{% extends "base.html" %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col s12 m8 offset-m2 deep-purple darken-1">
                <div class="card-panel">
                    <h3 class="center-align per_marker">
                        Edit a Character
                    </h3>
                </div>
            </div>
        </div>
        <div class="row card-panel">
            <form class="col s12 m8 offset-m2" method ="POST" action="{{ url_for('edit_info', username=session['user'], info_id=info._id) }}"> 
                <div class="row">
                    <!--Character Role-->
                    <div class="input-field col s12">
                        <i class="fas fa-folder-open prefix"></i>
                        <select id="characters_role" name="characters_role" class="validate" required>
                            <option value="" disabled>Choose Alligience</option>
                            {% for character in characters  %}
                                {% if character.characters_role == info.characters_role %}
                                    <option value="{{ character.characters_role }}" selected >{{ character.characters_role }}</option>
                                {% else %}
                                    <option value="{{ character.characters_role }}">{{ character.characters_role }}</option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <label for="characters_role"></label>
                    </div>
                </div>
                <div class="row">
                    <!--Character Name-->
                    <div class="input-field col s12 ">
                        <i class="fas fa-user-circle prefix"></i>
                        <input id="infos_name" name="infos_name" type="text" 
                            minlength="3" maxlength="50" value="{{ info.infos_name }}" 
                            class="validate" placeholder="Character name :" required>
                        <label for="infos_name"></label>
                    </div>
                </div>
                <div class="row">
                    <!--Character Description-->
                    <div class="input-field col s12 ">
                        <i class="fas fa-user-circle prefix"></i>
                        <input id="infos_description" name="infos_description" type="text" 
                            minlength="3" maxlength="50" value="{{ info.infos_description}}" 
                            class="validate" placeholder="Character description :" required>
                        <label for="infos_description"></label>
                    </div>
                </div>
                <div class="row">
                    <!--Character Bio-->
                    <div class="input-field col s12">
                        <i class="fas fa-align-left prefix"></i>
                        <textarea id="infos_bio" name="infos_bio" minlength="5" 
                                maxlength="200" class="materialize-textarea validate" 
                                placeholder="Character bio :" required>
                                {{- info.infos_bio -}}
                        </textarea>
                        <label for="infos_bio"></label>
                    </div>
                </div>
                <div class="row">
                    <!--Character skills-->
                    <div class="input-field col s12">
                        <i class="fas fa-align-left prefix"></i>
                        <textarea id="infos_skills" name="infos_skills" minlength="5" 
                                maxlength="200" class="materialize-textarea validate"
                                placeholder="Character skills :" required>
                                {{- info.infos_skills -}}
                        </textarea>
                        <label for="infos_skills"></label>
                    </div>
                </div>
                <!--Cancel & Submit Buttons-->
                <div class="row">
                    <div class="col s12 center-align">
                        <button type="submit" class="waves-effect waves-light btn-small per_marker green accent-3">Edit Character</button>
                    </div>   
                </div>
                <div class="row">
                    <div class="col s12 center-align">
                        <a href="{{ url_for('profile', username=session['user']) }}" class="waves-effect waves-light btn-small per_marker blue accent-3">Go to user Profile</a>
                        <a href="{{ url_for('get_info') }}" class="waves-effect waves-light btn-small per_marker red accent-3">Cancel</a>
                    </div>
                </div>
            </form>
        </div>
    </div>

{% endblock %}
